<div class="container">
<div class="PreNav">
	<div class="tn-config">
		<input class="cog        cssbutton" type="checkbox"  name="attr_sheet-config"    value="1" title="Set Game Options, including alternate roll rules and sub-stats."/><span></span>
		<input class="help-show  cssbutton" type="checkbox"  name="attr_sheet-newplayer" value="1" title="Enable Expanded tooltips for new players. (Not Yet Implimented)."/><span></span>
		<input class="notify     cssbutton" type="checkbox"  name="attr_sheet-notify"    value="1" title="Notify select person when changes are made to the character sheet. (Not Yet Implimented)."/><span></span>	
	</div>
	<div class="tn-img"><img src="https://i.imgur.com/9y2bNUX.png" style="max-height: 8em !important;" alt="World of Darkness 20th Anniversary Edition Character Sheet" /></div>
	<div class="tn-name">	  	<label class="smlabel"><input type="text" name="attr_player_name"    title="@{player_name}"                  placeholder="Player Name"    /><br><span>Player</span></label></div>
	<div class="tn-cp">		   	
								<a class="popupbutton" href="#cpconfig">x</a>
								<label class="smilabel"><input type="text" name="attr_total_cp"       class="chpoints" title="@{unspent_cp }"    placeholder="Unspent Character Points"        />
								<input type="text" name="attr_earned_cp" class="chpoints" title="@{earned_cp}" placeholder="Total Earned Character Points (not including starting or base)"        /><br>
								<span style="padding-left: 23%">Unspent / Total CP</span></label>
	</div>
	<div class="tn-race">	  	<label class="smlabel"><input type="text" name="attr_race"           title="@{race}"                         placeholder="Race"           /><br><span>Race</span></label></div>
	<div class="tn-class">	  	<label class="smlabel"><input type="text" name="attr_class"          title="@{class}"                        placeholder="Class"          /><br><span>Class</span></label></div>
	<div class="tn-character">	<label class="smlabel"><input type="text" name="attr_character_name" title="@{character_name}"               placeholder="Character Name" /><br><span>Character</span></label></div>
	<div class="tn-size">		<input class="tools cssbutton" type="checkbox"  name="attr_sizedetails"    value="1" title="Set and view size template for character"/><span></span>
								<label class="smilabel"><input type="text" name="attr_size"           class="size" title="@{size}"            placeholder="Size"           /><br><span>Size</span></label></div>
	<div class="tn-height">	  	<label class="smlabel"><input type="text" name="attr_height"         class="size" title="@{height}"          placeholder="Height"         /><br><span>Height</span></label></div>
	<div class="tn-mass">	  	<label class="smlabel"><input type="text" name="attr_mass"           class="size" title="@{mass}"            placeholder="Mass"           /><br><span>Mass</span></label></div>

</div>
<div id="cpconfig" class="overlay">
	<div class="popup">
															
		<div class="cpmodalgrid">
			<div class="cp-unspent"    ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-unspent" title="@{cp-unspet}" placeholder="Unspent"   /><br><span>Unspent</span></label></div>
			<div class="cp-base"       ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-base"    title="@{cp-base}"  placeholder="Base"      /><br><span>Base</span></label></div>
			<div class="cp-abilities"  ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-abil"    title="@{cp-abil}"  placeholder="Abilities" /><br><span>Abilities</span></label></div>
			<div class="cp-skills"     ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-skills"  title="@{cp-skills}"  placeholder="Skills"    /><br><span>Skills</span></label></div>
			<div class="cp-defects"    ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-defects" title="@{cp-defects}"  placeholder="Defects"   /><br><span>Defects</span></label></div>
			<div class="cp-custom1"    ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-custom1" title="@{cp-custom1}"  placeholder="Custom 1"  /><br><span>Custom 1</span></label></div>
			<div class="cp-custom2"    ><label class="smlabel"><input type="text" class="w3m"  name="attr_cp-custom2" title="@{cp-custom2}"  placeholder="Custom 2"  /><br><span>Custom 2</span></label></div>
			<div class="cp-dropdown"   ><label class="smlabel"><!-- 	<select name="attr_static_options_selection_gamegenre"> SkPoolLabel -->
				<select class="cfg-select-template" name="attr_cfg_maj_template" title="Select which character sheet type you are using.">
					<option value="">â€¢ Select One</option>
					<option value="0">Multi-Genre</option>
					<option value="1">Action Adventure</option>
					<option value="2">Animal Adventures</option>
					<option value="3">Classic Horror</option>
					<option value="4">Detective</option>
					<option value="5">Loony Cartoons</option>
					<option value="6">Romantic Comedy</option>
					<option value="7">Slice of Life</option>
					<option value="8">Spy Thriller</option>
					<option value="9">Supernatural Occult</option>
					<option value="10">Eco Fantasy</option>
					<option value="11">High Fantasy</option>
					<option value="12">Low Fantasy</option>
					<option value="13">Urban Fantasy</option>
					<option value="14">Cyberpunk/Realitypunk</option>
					<option value="15">Hard SF</option>
					<option value="16">Mecha Drama</option>
					<option value="17">Post- Apocalyptic</option>
					<option value="18">Soft SF</option>
					<option value="19">Space Opera</option>
					<option value="20">20th Century War</option>
					<option value="21">Age of Discovery</option>
					<option value="22">Age of Pirates</option>
					<option value="23">Age of Samurai</option>
					<option value="24">Ancient Mediterranean</option>
					<option value="25">Industrial Age</option>
					<option value="26">Middle Ages</option>
					<option value="27">Steampunk</option>
					<option value="28">Stone Age</option>
					<option value="29">Wild West</option>
				</select>
			<br><span>CP Genre</span></label></div>
			<div class="cp-validation" ><label class="smlabel"><input type="text" class="w3m" name="attr_cp-"        title="@{cp-}"  placeholder="Race"      /><br><span></span></label></div>
			<div class="cp-end">&nbsp;<a class="close" href="#">&times;</a></div>
		</div>
	</div>
</div>
<!--             CONFIG
	 IMG | Name  Total CP Race class  |
	 IMG | Player Size Height Mass    |
  -->
    
<input class="tabstoggle" type="hidden" name="attr_sheetTab" value="core" />
	<div>
		<button type="action" class="topnav topnav0" name="act_core"       >Attributes &amp; Abilities</button>
		<button type="action" class="topnav topnav1" name="act_advantages" >Advantages</button>
		<button type="action" class="topnav topnav2" name="act_combat"     >Combat</button>
		<button type="action" class="topnav topnav3" name="act_details"    >Details</button>
		<button type="action" class="topnav topnav4" name="act_biography"  >Biography</button>
		<button type="action" class="topnav topnav5" name="act_config"     >Config</button>
	</div>
	<span style="display: block;background: black;margin-bottom: 1em;border-radius: 0px 0px 10px 10px;">&nbsp;</span>
	<!-- END OF NAVBAR AREA -->
	
	<div class="core">
		<p>core test</p>
	</div>
	<div class="config">
		<p>config test</p>
	</div>
</div>
<!-- Sheet Workers -->
<script type="text/worker">
	const buttonlist = ["core", "combat", "abilities", "advantages", "details", "biography", "config"];
	 buttonlist.forEach(button => {
	  on(`clicked:${button}`, function() {
	   setAttrs({
		sheetTab: button
	   });
	  });
	 });
	 
	 /* Show/Hide buttons for the abilities (skills) section */
	 const abilities = ['Alertness', 'Art', 'Athletics', 'Awareness', 'Brawl', 'Empathy', 'Expression', 'Flying', 'Intimidation', 'Leadership', 'Streetwise', 'Subterfuge', 'Acrobatics', 'AnimalKen', 'Crafts', 'Drive', 'Elusion', 'Etiquette', 'Firearms', 'Larceny', 'MartialArts', 'Melee', 'Meditation', 'Performance', 'Ride', 'Research', 'Stealth', 'Survival', 'WildHunting', 'Technology', 'Academics', 'AnimalSpeech', 'BeastLore', 'Computers', 'Cosmology', 'Culture', 'Enigmas', 'Esoterica', 'HearthWisdom', 'Finance', 'Gremayre', 'Investigation', 'Law', 'Medicine', 'Metaphysics', 'Occult', 'Rituals', 'Politics', 'Seneschal', 'Science'];
	 let abilityButtonEvents = abilities.map(ability => `clicked:collapse-${ability}-diffmods clicked:collapse-${ability}-dicepool`);
	 
	 on(abilityButtonEvents.join(' '), (ev) => {
		let section = (ev.triggerName.match(/collapse-(.*)/i) || [])[1];
		console.info(`Collapse event triggered on section: "${section}"`, ev);
		toggleAttr(`collapse-flag-${section}`, true);
	});
	/* Show/Hide buttons for the advantages section */
	const advantages = ['backgrounds', 'renown', 'rage', 'gnosis', 'hekau', 'disciplines', 'virtues', 'giftOne', 'giftTwo', 'arete', 'humanity', 'balance', 'willpower', 'sekhem', 'blood', 'health'];
	 let advantageButtonEvents = advantages.map(advantage => `clicked:collapse-advantage-${advantage} clicked:collapse-advantage-${advantage}`);
	 
	 on(advantageButtonEvents.join(' '), (ev) => {
		let section = (ev.triggerName.match(/collapse-(.*)/i) || [])[1];
		console.info(`Collapse event triggered on section: "${section}"`, ev);
		toggleAttr(`collapse-flag-${section}`, true);
	});
	
		/* Show/Hide buttons for the options section */
	const options = ['Mage20Show', 'Werewolf20Show', 'Vampire20Show', 'Changeling20Show', 'Mummy20Show', 'Hunter20Show', 'Wraith20Show', 'BygoneShow', 'Demon20Show', '', '', '', '', '', '', ''];
	 let optionButtonEvents = options.map(option => `clicked:collapse-options-${option} clicked:collapse-options-${option}`);
	 
	 on(optionButtonEvents.join(' '), (ev) => {
		let section = (ev.triggerName.match(/collapse-(.*)/i) || [])[1];
		console.info(`Collapse event triggered on section: "${section}"`, ev);
		toggleAttr(`collapse-flag-${section}`, true);
	});
</script>